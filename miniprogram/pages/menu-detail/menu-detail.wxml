<view class="container">
  <view wx:if="{{menu}}" class="stack">
    <view class="card">
      <view class="cover-wrap">
        <image wx:if="{{coverUrl}}" class="cover" mode="widthFix" src="{{coverUrl}}" />
      </view>
      <view class="section-title">{{menu.name}}</view>
      <view class="muted">查看菜品清单与顺序</view>
      <van-button size="small" type="default" bind:tap="goToEdit">编辑</van-button>
    </view>

    <view class="card">
      <view wx:if="{{items.length === 0}}" class="muted">暂无菜品</view>
      <view wx:for="{{items}}" wx:key="id" class="row">
        <view>
      <view class="section-title">{{item.dishName}}</view>
      <view class="muted">{{item.note || ''}}</view>
    </view>
    <van-button size="small" type="default" data-id="{{item.dishId}}" bind:tap="goToDish">查看菜谱</van-button>
  </view>
    </view>
  </view>

  <view wx:if="{{!menu}}" class="card">
    <van-empty description="该菜单可能已被删除。" />
  </view>
</view>

<view wx:if="{{softToastVisible}}" class="soft-toast">{{softToastText}}</view>
