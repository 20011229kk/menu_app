<view class="container">
  <view wx:if="{{menu}}" class="stack">
    <view class="card">
      <view class="section-title">{{menu.name}}</view>
      <view class="muted">查看菜品清单与顺序</view>
      <view class="button-ghost" bindtap="goToEdit">编辑</view>
    </view>

    <view class="card">
      <view wx:if="{{menu.items.length === 0}}" class="muted">暂无菜品</view>
      <view wx:for="{{menu.items}}" wx:key="id" class="row">
        <view>
          <view class="section-title">{{(dishes.find(d => d.id === item.dishId) || {}).name || '菜品已删除'}}</view>
          <view class="muted">{{item.note || ''}}</view>
        </view>
        <view class="button-ghost" data-id="{{item.dishId}}" bindtap="goToDish">查看菜谱</view>
      </view>
    </view>
  </view>

  <view wx:if="{{!menu}}" class="card">
    <view class="section-title">未找到菜单</view>
    <view class="muted">该菜单可能已被删除。</view>
  </view>
</view>
