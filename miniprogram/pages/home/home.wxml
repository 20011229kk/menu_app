<view class="container">
  <view class="card">
    <view class="section-title">ä»Šæ—¥å°å¨æˆ¿ ğŸ“</view>
    <view class="muted">æ¸©é¦¨æ•´ç†ä¸æœ€è¿‘æ›´æ–°ä¸€çœ¼å¯è§</view>
  </view>

  <view class="segmented">
    <view
      class="segmented-button {{view === 'category' ? 'segmented-active' : ''}}"
      data-view="category"
      bindtap="switchView"
    >æŒ‰åˆ†ç±»</view>
    <view
      class="segmented-button {{view === 'recent' ? 'segmented-active' : ''}}"
      data-view="recent"
      bindtap="switchView"
    >æœ€è¿‘æ›´æ–°</view>
  </view>

  <view wx:if="{{view === 'category'}}" class="stack">
    <view class="card" wx:for="{{categories}}" wx:key="id">
      <view class="row">
        <view class="section-title">{{item.name}}</view>
        <view class="badge">{{categoryCounts[item.id] || 0}}</view>
      </view>
      <view class="muted">{{categoryCounts[item.id] || 0}} é“èœ</view>
      <view class="button-ghost" bindtap="goToDishes">æŸ¥çœ‹èœå“</view>
    </view>
    <view class="card">
      <view class="row">
        <view class="section-title">æœªåˆ†ç±»</view>
        <view class="badge">{{categoryCounts.uncategorized || 0}}</view>
      </view>
      <view class="muted">{{categoryCounts.uncategorized || 0}} é“èœ</view>
      <view class="button-ghost" bindtap="goToDishes">æŸ¥çœ‹èœå“</view>
    </view>
  </view>

  <view wx:if="{{view === 'recent'}}" class="stack">
    <view wx:if="{{recentDishes.length === 0}}" class="card">
      <view class="muted">æš‚æ— æ›´æ–°è®°å½•</view>
    </view>
    <view class="card" wx:for="{{recentDishes}}" wx:key="id">
      <view class="section-title">{{item.name}}</view>
      <view class="muted">{{item.description || 'æš‚æ— ç®€ä»‹'}}</view>
      <view class="button-ghost" data-id="{{item.id}}" bindtap="goToDishDetail">æŸ¥çœ‹è¯¦æƒ…</view>
    </view>
  </view>
</view>
